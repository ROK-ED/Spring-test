<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="co.yo.prj.hotel.service.HotelMapper">
	<select id="HotelSelectList"
		resultType="co.yo.prj.hotel.service.HotelVO">
		SELECT * FROM YO_HOTEL
	</select>

	<select id="HotelSelect"
		parameterType="co.yo.prj.hotel.service.HotelVO"
		resultType="co.yo.prj.hotel.service.HotelVO">
		SELECT * FROM YO_HOTEL WHERE HOTEL_ID = #{hotel_id}
	</select>

	<insert id="HotelInsert"
		parameterType="co.yo.prj.hotel.service.HotelVO">
		<selectKey keyProperty="hotel_id" resultType="int"
			order="BEFORE">
			SELECT NVL(MAX(HOTEL_ID) +1 , 1) AS HOTEL_ID FROM YO_HOTEL
		</selectKey>
		INSERT INTO
		YO_HOTEL(HOTEL_ID,HOTEL_TITLE,HOTEL_LOCX,HOTEL_LOCY,HOTEL_LOOM,HOTEL_TEL,
		HOTEL_ADDRESS,HOTEL_CONTENT,HOTEL_PRICE,HOTEL_ENROLL_EMAIL,HOTEL_TFILE,HOTEL_THUMBNAIL,HOTEL_PFILE,HOTEL_PICTURE)
		VALUES
		(#{hotel_id},#{hotel_title},#{hotel_locx},#{hotel_locy},#{hotel_loom},#{hotel_tel},#{hotel_address},#{hotel_content},#{hotel_price},#{hotel_enroll_email}
		,#{hotel_tfile},#{hotel_thumbnail},#{hotel_pfile},#{hotel_picture})
	</insert>

	<update id="HotelUpdate"
		parameterType="co.yo.prj.hotel.service.HotelVO">
		UPDATE YO_HOTEL
		SET HOTEL_TITLE = #{hotel_title},
		HOTEL_LOCX =
		#{hotel_locx},
		HOTEL_LOCY= #{hotel_locy} ,
		HOTEL_LOOM = #{hotel_loom} ,
		HOTEL_TEL = #{hotel_tel} ,
		HOTEL_ADDRESS = #{hotel_address},
		HOTEL_CONTENT = #{hotel_content},
		HOTEL_PRICE = #{hotel_price}
		<!-- <if test="hotel_hotel_tfile !=null">HOTEL_TFILE = #{hotel_tfile} </if> 
			<if test="hotel_thumbnail !=null">HOTEL_THUMBNAIL = #{hotel_thumbnail} </if> 
			<if test="hotel_pfile !=null">HOTEL_PFILE = #{hotel_pfile} </if> <if test="hotel_picture 
			!=null">HOTEL_PICTURE = #{hotel_picture} </if> <if test="hotel_hit !=null">HOTEL_HIT 
			= #{hotel_hit} </if> -->
		WHERE HOTEL_ID = #{hotel_id}
	</update>

	<delete id="HotelDelete">
		DELETE FROM YO_HOTEL WHERE HOTEL_ID = #{hotel_id}


	</delete>
	<update id="HotelIdUpdate" parameterType="int">
		<![CDATA[
			UPDATE YO_HOTEL
			SET HOTEL_ID = HOTEL_ID - 1
			WHERE HOTEL_ID > #{hotel_id}
		]]>
	</update>



</mapper>